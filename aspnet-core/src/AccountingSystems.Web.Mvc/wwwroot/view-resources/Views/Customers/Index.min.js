(function(){$(function(){function r(){location.reload(!0)}function u(n,t){abp.message.confirm(abp.utils.formatString(abp.localization.localize("AreYouSureWantToDelete","AccountingSystems"),t),function(t){t&&i.delete({id:n}).done(function(){r()})})}var i=abp.services.app.customer,f=abp.services.app.salesman,n=$("#CustomerCreateModal"),t=n.find("form");$("#customerTable").DataTable({responsive:!0});t.validate({});$("#nextBtn").click(function(){$("#nextTab").addClass("active");$("#firstTab").removeClass("active")});$("#RefreshButton").click(function(){r()});$("#salesmanCode").change(function(n){var t=$("#salesmanCode").val();n.preventDefault();abp.ajax({url:abp.appPath+"Salesman/GetSalesmanName?salesmanCode="+t,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){$("#SalesmanName").val(n.name).focus();$("#SalesmanId").val(n.id)},error:function(){}})});$(".delete-customer").click(function(){var n=$(this).attr("data-customer-id"),t=$(this).attr("data-customer-name");u(n,t)});$(".edit-customer").click(function(n){var t=$(this).attr("data-customer-id");n.preventDefault();abp.ajax({url:abp.appPath+"Customer/EditCustomerModal?customerId="+t,type:"POST",dataType:"html",success:function(n){$("#CustomerEditModal div.modal-content").html(n)},error:function(){}})});t.find('button[type="submit"]').click(function(r){if(r.preventDefault(),t.valid()){var u=t.serializeFormToObject();abp.ui.setBusy(n);i.create(u).done(function(){n.modal("hide");location.reload(!0)}).always(function(){abp.ui.clearBusy(n)})}});n.on("shown.bs.modal",function(){n.find("input:not([type=hidden]):first").focus()})})})();